# Request-GraphUserEligibleDirectoryRole.md

`Request-GraphUserEligibleDirectoryRole` is a PowerShell function that requests a directory role for a user using the Microsoft Graph API.

## Synopsis

This function requests a directory role for a user.

## Syntax

```powershell
Request-GraphUserEligibleDirectoryRole
  -UserId <string>
  -RoleDefinitionId <string>
  [-Justification <string>]
  [-StartDateTime <UtcDateTime>]
  [-Expiration <string>]
  [-Action <string>]
  [-DirectoryScopeId <string>]
  [-PassThru]
  [-WhatIf]
  [-Confirm]
```

## Description

The `Request-GraphUserEligibleDirectoryRole` function provides a streamlined way to request a directory role for a user using the Microsoft Graph API. It supports specifying the user, role, justification, start time, expiration, action, and directory scope.

## Parameters

- `-UserId <string>`
  Specifies the UserId. Alias: PrincipalId.

- `-RoleDefinitionId <string>`
  Specifies the RoleDefinitionId. Aliases: Id, DirectoryRole.

- `-Justification <string>`
  Specifies the Justification. If not provided, the user will be prompted to enter one.

- `-StartDateTime <UtcDateTime>`
  Specifies the StartDateTime. Default is the current date and time.

- `-Expiration <string>`
  Specifies the Expiration. Valid values range from "PT30M" (30 minutes) to "PT8H" (8 hours). Default is "PT4H" (4 hours).

- `-Action <string>`
  Specifies the Action. Valid values are "SelfActivate", "SelfDeactivate", "SelfExtend", "SelfRenew". Default is "SelfActivate".

- `-DirectoryScopeId <string>`
  Specifies the DirectoryScopeId. Default is "/".

- `-PassThru <switch>`
  If specified, returns the response from the Microsoft Graph API.

- `-WhatIf <switch>`
  Shows what would happen if the cmdlet runs. The cmdlet is not run.

- `-Confirm <switch>`
  Prompts you for confirmation before running the cmdlet.

## Examples

### Example 1: Request a directory role with specific parameters
```powershell
Request-GraphUserEligibleDirectoryRole -UserId "jdoe@contoso.com" -RoleDefinitionId "00000000-0000-0000-0000-000000000000" -Justification "Requesting access to the role" -StartDateTime "2024-05-29T00:00:00Z" -Expiration "PT4H" -Action "SelfActivate" -DirectoryScopeId "/" -PassThru
```

### Example 2: Request a directory role using the role's display name
```powershell
Request-GraphUserEligibleDirectoryRole -UserId "jdoe@contoso.com" -RoleDefinitionId "Global Administrator" -Justification "Requesting access to the role" -StartDateTime "2024-05-29T00:00:00Z" -Expiration "PT4H" -Action "SelfActivate" -DirectoryScopeId "/" -PassThru
```

---

*Disclaimer: This README was generated by Claude AI 3.5 Sonnet.*
