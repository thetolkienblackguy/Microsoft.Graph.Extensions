# Invoke-GraphConditionalAccessPolicyEvaluation.md

`Invoke-GraphConditionalAccessPolicyEvaluation` is a PowerShell function that evaluates conditional access policies for a user or application using the Microsoft Graph API.

## Synopsis

This function evaluates conditional access policies for a user or application.

## Syntax

```powershell
Invoke-GraphConditionalAccessPolicyEvaluation
  -UserId <string>
  -IncludeApplications <string[]>
  [-DevicePlatform <string[]>]
  [-SignInRiskLevel <string>]
  [-UserRiskLevel <string>]
  [-Country <string>]
  [-IpAddress <string>]

Invoke-GraphConditionalAccessPolicyEvaluation
  -UserId <string>
  -UserAction <string>
  [-DevicePlatform <string[]>]
  [-SignInRiskLevel <string>]
  [-UserRiskLevel <string>]
  [-Country <string>]
  [-IpAddress <string>]
```

## Description

The `Invoke-GraphConditionalAccessPolicyEvaluation` function provides a way to evaluate conditional access policies based on various parameters such as user ID, applications, user actions, device platforms, sign-in risk levels, user risk levels, countries, and IP addresses. It returns the conditional access policies that apply to the specified scenario.

## Parameters

- `-UserId <string>`
  The user ID of the user to evaluate conditional access policies for. Alias: Id.

- `-IncludeApplications <string[]>`
  The applications to include in the evaluation.

- `-UserAction <string>`
  The user action to evaluate conditional access policies for. Valid values are "registerOrJoinDevices" and "registerSecurityInformation".

- `-DevicePlatform <string[]>`
  The device platforms to evaluate conditional access policies for. Valid values are "all", "Android", "iOS", "windows", "windowsPhone", "macOS", "linux".

- `-SignInRiskLevel <string>`
  The sign-in risk levels to evaluate conditional access policies for. Valid values are "None", "Low", "Medium", "High".

- `-UserRiskLevel <string>`
  The user risk levels to evaluate conditional access policies for. Valid values are "None", "Low", "Medium", "High".

- `-Country <string>`
  The country to evaluate conditional access policies for. Use two-letter country codes (e.g., "US", "UK", "DE").

- `-IpAddress <string>`
  The IP address to evaluate conditional access policies for. Must be in the format "xxx.xxx.xxx.xxx".

## Examples

### Example 1: Evaluate policies for a specific user and application
```powershell
Invoke-GraphConditionalAccessPolicyEvaluation -UserId "12345678-1234-1234-1234-123456789012" -IncludeApplications "00000000-0000-0000-0000-000000000000" -DevicePlatform "iOS" -SignInRiskLevel "Low" -UserRiskLevel "Low" -Country "US"
```

### Example 2: Evaluate policies using pipeline input
```powershell
Get-MgUser -UserId "john.doe@contoso.com" | Invoke-GraphConditionalAccessPolicyEvaluation -IncludeApplications "00000000-0000-0000-0000-000000000000" -DevicePlatform "iOS" -SignInRiskLevel "Low" -UserRiskLevel "Low" -Country "US"
```

### Example 3: Evaluate policies for a specific user action
```powershell
Invoke-GraphConditionalAccessPolicyEvaluation -UserId "12345678-1234-1234-1234-123456789012" -UserAction "registerOrJoinDevices"
```

## Output

The function outputs PSObjects representing the conditional access policies that apply to the specified scenario.

---

*Disclaimer: This README was generated by Claude AI 3.5 Sonnet.*
