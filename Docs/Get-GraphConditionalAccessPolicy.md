# Get-GraphConditionalAccessPolicy.md

`Get-GraphConditionalAccessPolicy` is a PowerShell function that retrieves Conditional Access Policies from Microsoft Graph.

## Synopsis

This function gets Conditional Access Policies from Microsoft Graph.

## Syntax

```powershell
Get-GraphConditionalAccessPolicy
  [-ConditionalAccessPolicyId <string[]>]
  [-ApiVersion <string>]
  [-FlattenOutput]

Get-GraphConditionalAccessPolicy
  -Filter <string>
  [-ApiVersion <string>]
  [-Top <int>]
  [-FlattenOutput]

Get-GraphConditionalAccessPolicy
  [-All]
  [-ApiVersion <string>]
  [-Top <int>]
  [-FlattenOutput]
```

## Description

The `Get-GraphConditionalAccessPolicy` function provides a flexible way to retrieve Conditional Access Policies using the Microsoft Graph API. It supports retrieving policies by their ID, applying filters, or retrieving all policies. The function also allows for customization of the API version and output format.

## Parameters

- `-ConditionalAccessPolicyId <string[]>`
  The ID(s) of the Conditional Access Policy to retrieve. Aliases: Id, PolicyId.

- `-Filter <string>`
  The filter query to be used to retrieve Conditional Access Policies.

- `-All <switch>`
  Retrieve all Conditional Access Policies.

- `-ApiVersion <string>`
  The version of the Microsoft Graph API to use. Valid values are "Beta" and "v1.0". Default: "v1.0".

- `-Top <int>`
  The number of results to return. Valid range: 1-999.

- `-FlattenOutput <switch>`
  If specified, flattens the output object. Note: This is experimental and may not work as expected in all scenarios.

## Examples

### Example 1: Get a specific Conditional Access Policy by ID
```powershell
Get-GraphConditionalAccessPolicy -ConditionalAccessPolicyId "00000000-0000-0000-0000-000000000000"
```

### Example 2: Get Conditional Access Policies using pipeline input with flattened output
```powershell
Get-MgIdentityConditionalAccessPolicy | Get-GraphConditionalAccessPolicy -FlattenOutput
```

### Example 3: Get Conditional Access Policies using a filter
```powershell
Get-GraphConditionalAccessPolicy -Filter "displayName eq 'Test Policy'"
```

### Example 4: Get all Conditional Access Policies with flattened output
```powershell
Get-GraphConditionalAccessPolicy -All -FlattenOutput
```

## Output

The function outputs PSObjects representing the Conditional Access Policies. If the `-FlattenOutput` switch is used, the output will be a flattened version of the policy objects. Note that object flattening is experimental and may not work as expected in all scenarios.

---

*Disclaimer: This README was generated by Claude AI 3.5 Sonnet.*
